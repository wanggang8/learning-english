# Electron 打包说明

## 准备工作

### 1. 安装 Node.js
如果还没有安装 Node.js，请先安装：
- 访问 https://nodejs.org/
- 下载并安装 LTS 版本（推荐 v20.x）

### 2. 准备图标（可选）
如果需要自定义图标：
- **Mac**: 将图标文件命名为 `icon.icns`，放到 `assets/` 文件夹
- **Windows**: 将图标文件命名为 `icon.ico`，放到 `assets/` 文件夹

如果没有图标文件，打包时会使用默认图标。

## 打包步骤

### 第一步：安装依赖

在项目目录打开终端，运行：

```bash
npm install
```

这会安装 Electron 和 electron-builder。

### 第二步：测试运行

在打包前，先测试一下：

```bash
npm start
```

如果程序正常运行，按 Ctrl+C 停止。

### 第三步：打包

#### 打包 Mac 版本（仅在 Mac 上）
```bash
npm run build:mac
```

#### 打包 Windows 版本（在 Mac 或 Windows 上都可以）
```bash
npm run build:win
```

#### 同时打包 Mac 和 Windows 版本
```bash
npm run build:all
```

### 第四步：获取安装包

打包完成后，在 `dist/` 文件夹中可以找到：

- **Mac**: `单词小勇士-1.0.0.dmg` 或 `单词小勇士-1.0.0-arm64.dmg`
- **Windows**: `单词小勇士 Setup 1.0.0.exe`

## 注意事项

### 跨平台打包

- **在 Mac 上**：可以打包 Mac 和 Windows 版本
- **在 Windows 上**：只能打包 Windows 版本（无法打包 Mac 版本）
- **在 Linux 上**：可以打包所有平台

### 首次打包时间较长

第一次打包时，需要下载 Electron 二进制文件（约 100MB），可能需要 10-30 分钟。
后续打包会快很多。

### 网络问题

如果下载很慢，可以设置国内镜像：

```bash
npm config set electron_mirror https://npmmirror.com/mirrors/electron/
```

## 文件大小

打包后的文件大小约：
- **Mac dmg**: 120-150MB
- **Windows exe**: 100-130MB

## 分发

打包完成后，可以直接将 `.dmg` 或 `.exe` 文件分享给其他人使用。

用户只需：
1. 下载安装包
2. 双击安装
3. 运行"单词小勇士"

无需安装浏览器或其他依赖！

## 常见问题

### Q: 打包失败怎么办？
A: 检查：
1. Node.js 是否正确安装（运行 `node -v` 查看版本）
2. 网络是否正常
3. 查看错误信息，搜索解决方案

### Q: 可以修改应用名称吗？
A: 可以，编辑 `package.json` 中的 `productName` 字段

### Q: 可以修改版本号吗？
A: 可以，编辑 `package.json` 中的 `version` 字段

### Q: 打包后文件太大怎么办？
A: Electron 应用本身就比较大，这是正常的。如果需要更小的文件，可以考虑：
1. 不打包，直接分发网页版
2. 使用在线版本
