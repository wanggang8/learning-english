# Phase1 1.3.2 键盘快捷键系统手动测试

本测试指导覆盖新增的 KeyboardManager、命令调用链、历史与帮助面板的交互以及禁用态提示。

准备：
- 启动应用，建议先使用“使用测试数据”导入示例。
- 确保窗口聚焦。

快捷键一览：
- 空格：主要动作（上下文相关：开始抽取 / 抽取单词 / 返回）
- R：重抽（直接开始下一次抽取）
- H：切换历史面板
- ESC：返回 / 关闭帮助或历史面板 / 退出全屏
- F1 或 ？：打开/关闭快捷键帮助面板

测试用例：
1. 开始界面（startScreen）
   - 按空格：应切换到抽取中页面，随后到结果页。
   - 按 R：行为与“空格”一致，直接开始抽取。
   - 按 H：打开历史面板，再按 H/ESC 关闭。
   - 按 F1 或 ？：打开帮助面板；按 ESC 关闭。

2. 结果界面（resultScreen）
   - 按空格：应执行“抽取单词”，切换到单词页面。
   - 按 R：应直接开始下一次抽取（无需点击按钮），流程与 1 一致。
   - 按 H：打开/关闭历史面板；ESC 可关闭历史。
   - 按 F1 或 ？：打开/关闭帮助面板；ESC 关闭。

3. 单词界面（wordScreen）
   - 按空格：应返回开始界面（等同“继续冒险”）。
   - 按 R：应直接开始下一次抽取。
   - 按 H / F1 / ？：打开对应面板；ESC 关闭。

4. 抽取中界面（drawingScreen）
   - 快捷键不应中断动画（空格无效）。
   - H/F1/？仍可打开/关闭面板，ESC 可关闭面板。

5. 输入/遮罩冲突规避
   - 打开“重新导入”文件选择提示框或任意设置模态：
     - 在输入框里敲击按键，快捷键不应触发。
     - 遮罩打开时，除 H/F1/？/ESC 外的快捷键应被屏蔽。

6. 禁用态提示
   - 未导入任何数据（或清空数据）时：
     - 在开始界面按空格/R，应出现“请先导入学生名单和单词列表”的提示，并弹出导入提示框。
   - 学生当前轮已抽完：
     - 按空格开始抽取，应收到“本轮已抽完”的提示和“重新开始本轮”对话框（与按钮行为一致）。
   - 单词抽完：
     - 在结果界面按空格抽词，应出现“所有单词都已被抽取”的提示。

7. 无重复触发
   - 长按任意快捷键，不应出现重复触发导致的多次动作（使用按键自动重复时应被去重）。

8. 全屏场景（可选）
   - 进入系统全屏后按 ESC，应退出全屏（若无全屏也会执行“返回/关闭面板”逻辑）。

通过标准：以上操作均与对应按钮操作表现一致，且在禁用状态下出现明确提示，不产生副作用或重复触发。
